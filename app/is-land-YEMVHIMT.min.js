(()=>{var e=Object.defineProperty,t=(t,a,i)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[a]=i,a=(e,a,i)=>(t(e,"symbol"!=typeof a?a+"":a,i),i),i=(e,t,a)=>new Promise((i,r)=>{var n=e=>{try{l(a.next(e))}catch(e){r(e)}},o=e=>{try{l(a.throw(e))}catch(e){r(e)}},l=e=>e.done?i(e.value):Promise.resolve(e.value).then(n,o);l((a=a.apply(e,t)).next())}),r=new Map,n=class extends HTMLElement{constructor(){super(),this.ready=new Promise(e=>{this.readyResolve=e})}static getParents(e,t=!1){let a=[];for(;e;){if(e.matches&&e.matches(n.tagName)){if(t&&e===t)break;s.hasConditions(e)&&a.push(e)}e=e.parentNode}return a}static ready(e){return i(this,null,function*(){let t=n.getParents(e);if(0===t.length)return;let a=yield Promise.all(t.map(e=>e.wait()));if(a.length)return a[0]})}forceFallback(){for(let e in window.Island&&Object.assign(n.fallback,window.Island.fallback),n.fallback)for(let t of Array.from(this.querySelectorAll(e)).reverse()){if(!t.isConnected||t.localName===n.tagName)continue;let a=n.ready(t);n.fallback[e](a,t,n.prefix)}}wait(){return this.ready}connectedCallback(){return i(this,null,function*(){s.hasConditions(this)&&this.forceFallback(),yield this.hydrate()})}getTemplates(){return this.querySelectorAll(`template[${n.attr.template}]`)}replaceTemplates(e){for(let t of e){if(n.getParents(t,this).length>0)continue;let e=t.getAttribute(n.attr.template);if("replace"===e){for(let e of Array.from(this.childNodes))this.removeChild(e);this.appendChild(t.content);break}{let a=t.innerHTML;if("once"===e&&a){if(r.has(a)){t.remove();return}r.set(a,!0)}t.replaceWith(t.content)}}}hydrate(){return i(this,null,function*(){let e=[];this.parentNode&&e.push(n.ready(this.parentNode));let t=s.getConditions(this);for(let a in t)s.map[a]&&e.push(s.map[a](t[a],this));yield Promise.all(e),this.replaceTemplates(this.getTemplates());let a,i=this.getAttribute(n.attr.import);if(i&&(a=yield import(i)),a){let e=n.autoinit[this.getAttribute(n.attr.autoInitType)||i];e&&(yield e.call(this,a))}this.readyResolve({}),this.setAttribute(n.attr.ready,""),this.querySelectorAll(`[${n.attr.defer}]`).forEach(e=>e.removeAttribute(n.attr.defer))})}},o=n;a(o,"tagName","is-land"),a(o,"prefix","is-land--"),a(o,"attr",{autoInitType:"autoinit",import:"import",template:"data-island",ready:"ready",defer:"defer-hydration"}),a(o,"fallback",{":not(:defined):not([defer-hydration])":(e,t,a)=>{let i=document.createElement(a+t.localName);for(let e of t.getAttributeNames())i.setAttribute(e,t.getAttribute(e));let r=t.shadowRoot;if(!r){let e=t.querySelector(":scope > template[shadowroot]");e&&(r=t.attachShadow({mode:"open"})).appendChild(e.content.cloneNode(!0))}return r&&i.attachShadow({mode:r.mode}).append(...r.childNodes),i.append(...t.childNodes),t.replaceWith(i),e.then(()=>{i.shadowRoot&&t.shadowRoot.append(...i.shadowRoot.childNodes),t.append(...i.childNodes),i.replaceWith(t)})}}),a(o,"autoinit",{"petite-vue":function(e){e.createApp().mount(this)},vue:function(e){e.createApp().mount(this)},svelte:function(e){new e.default({target:this})},"svelte-ssr":function(e){new e.default({target:this,hydrate:!0})},preact:function(e){e.default(this)}});var l=class{static hasConditions(e){return Object.keys(l.getConditions(e)).length>0}static getConditions(e){let t={};for(let a of Object.keys(l.map))e.hasAttribute(`on:${a}`)&&(t[a]=e.getAttribute(`on:${a}`));return t}static visible(e,t){if("IntersectionObserver"in window)return new Promise(e=>{let a=new IntersectionObserver(t=>{let[i]=t;i.isIntersecting&&(a.unobserve(i.target),e())});a.observe(t)})}static idle(){let e=new Promise(e=>{"complete"!==document.readyState?window.addEventListener("load",()=>e(),{once:!0}):e()});return"requestIdleCallback"in window?Promise.all([new Promise(e=>{requestIdleCallback(()=>{e()})}),e]):e}static interaction(e,t){let a=["click","touchstart"];return e&&(a=(e||"").split(",").map(e=>e.trim())),new Promise(e=>{function i(r){for(let r of(e(),a))t.removeEventListener(r,i)}for(let e of a)t.addEventListener(e,i,{once:!0})})}static media(e){let t={matches:!0};if(e&&"matchMedia"in window&&(t=window.matchMedia(e)),!t.matches)return new Promise(e=>{t.addListener(t=>{t.matches&&e()})})}static saveData(e){return"connection"in navigator&&navigator.connection.saveData!==("false"!==e)?new Promise(()=>{}):Promise.resolve()}},s=l;a(s,"map",{visible:l.visible,idle:l.idle,interaction:l.interaction,media:l.media,"save-data":l.saveData}),"customElements"in window&&(window.customElements.define(o.tagName,o),window.Island=o);var d=o.ready})();